# BookNav - é«˜åº¦å¯å®šåˆ¶çš„ä¸ªäººå¯¼èˆªç½‘ç«™

BookNav æ˜¯ä¸€ä¸ªä½¿ç”¨ Flask æ„å»ºçš„ã€å¯é€šè¿‡ Docker è½»æ¾éƒ¨ç½²çš„ä¸ªäººå¯¼èˆªç½‘ç«™é¡¹ç›®ã€‚å®ƒæ—¨åœ¨å¸®åŠ©ç”¨æˆ·æ•´ç†å’Œå¿«é€Ÿè®¿é—®å¸¸ç”¨çš„ç½‘ç«™é“¾æ¥ï¼Œæä¾›åˆ†ç±»ç®¡ç†å’Œä¸°å¯Œçš„äº¤äº’åŠŸèƒ½ï¼Œå¹¶æ”¯æŒé‚€è¯·ç æ³¨å†Œç³»ç»Ÿæ¥æ§åˆ¶ç”¨æˆ·è®¿é—®ã€‚

![é¦–é¡µ](./img/é¦–é¡µ.png)

![è¶…çº§ç®¡ç†å‘˜åå°](./img/è¶…çº§ç®¡ç†å‘˜åå°.png)

![æ‰¹é‡æŠ“å–é“¾æ¥å›¾æ ‡](./img/å›¾æ ‡ä¿¡æ¯è·å–.png)

æŠ“å–å›¾æ ‡åŠŸèƒ½çº¿ä¸Šç‚¹å‡»æŠ“å–åå¯èƒ½å­˜åœ¨ä¸æ˜¾ç¤ºè¿›åº¦é—®é¢˜ï¼Œå¯ä»¥æœ¬åœ°è¿è¡ŒæŠ“å–å›¾æ ‡ç„¶åå¯¼å‡ºæ•°æ®åº“ï¼Œå†å¯¼å…¥çº¿ä¸Š

## âœ¨ ç‰¹è‰²åŠŸèƒ½

BookNav åŸºäº Flask Web æ¡†æ¶æ‰“é€ ï¼Œæä¾›äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

 âœ… å·²å®Œæˆçš„åŠŸèƒ½

  1. æ•°æ®åº“å±‚é¢

  - åœ¨SiteSettingsæ¨¡å‹ä¸­æ·»åŠ äº†7ä¸ªWebDAVç›¸å…³å­—æ®µï¼Œæ‰€æœ‰å­—æ®µéƒ½æœ‰åˆé€‚çš„é»˜è®¤å€¼
  - åˆ›å»ºäº†æ­£ç¡®çš„æ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼Œä½¿ç”¨æ‰¹é‡æ“ä½œç¡®ä¿SQLiteå…¼å®¹æ€§
  - ä¿®å¤äº†é»˜è®¤è®¾ç½®å¯¹è±¡ï¼Œç¡®ä¿å¼‚å¸¸æƒ…å†µä¸‹æ¨¡æ¿ä¸ä¼šå‡ºé”™

  2. åç«¯åŠŸèƒ½

  - å®Œæ•´çš„WebDAVå·¥å…·æ¨¡å—(app/utils/webdav_backup.py)ï¼Œæ”¯æŒHTTP/HTTPS
  - é›†æˆåˆ°ç°æœ‰å¤‡ä»½ç³»ç»Ÿï¼Œæ”¯æŒè‡ªåŠ¨WebDAVå¤‡ä»½
  - æ–°å¢3ä¸ªAPIç«¯ç‚¹ï¼šæµ‹è¯•è¿æ¥ã€å•æ–‡ä»¶ä¸Šä¼ ã€æ‰¹é‡ä¸Šä¼ 
  - ä½¿ç”¨Base64ç¼–ç å®‰å…¨å­˜å‚¨å¯†ç ï¼ˆè™½ç„¶ä¸æ˜¯å¼ºåŠ å¯†ï¼Œä½†é¿å…äº†æ˜æ–‡å­˜å‚¨ï¼‰

  3. å‰ç«¯ç•Œé¢

  - åœ¨ç«™ç‚¹è®¾ç½®é¡µé¢æ–°å¢**"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µ**ï¼ŒåŒ…å«å®Œæ•´çš„é…ç½®ç•Œé¢
  - åœ¨å¤‡ä»½ç®¡ç†é¡µé¢æ·»åŠ WebDAVç›¸å…³æŒ‰é’®ï¼š
    - å•ä¸ªæ–‡ä»¶çš„"WebDAV"ä¸Šä¼ æŒ‰é’®
    - æ‰¹é‡"WebDAVä¸Šä¼ "æŒ‰é’®
  - å®Œæ•´çš„JavaScriptäº¤äº’ï¼šæµ‹è¯•è¿æ¥ã€ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºã€é”™è¯¯å¤„ç†

  4. ç”¨æˆ·ä½“éªŒ

  - ç›´è§‚çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½æœ‰å¯¹åº”çš„æŒ‰é’®å’Œæç¤º
  - å¯ç”¨/ç¦ç”¨åˆ‡æ¢ï¼ŒåŠ¨æ€æ˜¾ç¤ºé…ç½®é€‰é¡¹
  - å®æ—¶è¿æ¥æµ‹è¯•åŠŸèƒ½
  - è¯¦ç»†çš„æˆåŠŸ/å¤±è´¥æç¤ºä¿¡æ¯

  ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

  1. å®Œå…¨å‘åå…¼å®¹ - æ‰€æœ‰æ–°å­—æ®µéƒ½æœ‰é»˜è®¤å€¼ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½
  2. åè®®æ”¯æŒå®Œæ•´ - æ”¯æŒHTTPå’ŒHTTPS WebDAVæœåŠ¡å™¨
  3. é”™è¯¯å¤„ç†å¥å…¨ - å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
  4. å®‰å…¨è€ƒè™‘ - å¯†ç ç¼–ç å­˜å‚¨ï¼Œæ–‡ä»¶åå®‰å…¨æ£€æŸ¥ï¼ŒCSRFä¿æŠ¤
  5. æ€§èƒ½ä¼˜åŒ– - æ‰¹é‡æ“ä½œæ”¯æŒï¼Œåå°å¼‚æ­¥å¤„ç†

  ğŸ¯ ç”¨æˆ·äº¤äº’æµç¨‹

  1. é…ç½®WebDAV:
    - è¿›å…¥ç®¡ç†åå° > ç«™ç‚¹è®¾ç½® > WebDAVå¤‡ä»½æ ‡ç­¾é¡µ
    - å¡«å†™æœåŠ¡å™¨ä¿¡æ¯å¹¶æµ‹è¯•è¿æ¥
    - å¯ç”¨è‡ªåŠ¨å¤‡ä»½é€‰é¡¹
  2. æ‰‹åŠ¨å¤‡ä»½:
    - åœ¨ç®¡ç†åå° > å¤‡ä»½ç®¡ç†é¡µé¢
    - ç‚¹å‡»å•ä¸ªæ–‡ä»¶çš„"WebDAV"æŒ‰é’®è¿›è¡Œä¸Šä¼ 
    - æˆ–ä½¿ç”¨"æ‰¹é‡WebDAVä¸Šä¼ "ä¸€æ¬¡æ€§ä¸Šä¼ æ‰€æœ‰å¤‡ä»½
  3. è‡ªåŠ¨å¤‡ä»½:
    - å¯ç”¨è‡ªåŠ¨å¤‡ä»½åï¼Œæ¯æ¬¡åˆ›å»ºæœ¬åœ°å¤‡ä»½æ—¶ä¼šè‡ªåŠ¨ä¸Šä¼ åˆ°WebDAV
    - æ”¯æŒä¿ç•™/åˆ é™¤æœ¬åœ°å¤‡ä»½é€‰é¡¹

  ğŸš¨ é‡è¦ä¿®å¤

  1. è¿ç§»æ–‡ä»¶ä¿®æ­£ - ç§»é™¤äº†å¯èƒ½å¯¼è‡´SQLiteé—®é¢˜çš„é»˜è®¤å€¼è®¾ç½®
  2. å¼‚å¸¸å¤„ç†å¢å¼º - åœ¨å…¨å±€settingsæ³¨å…¥ä¸­æ·»åŠ äº†WebDAVå­—æ®µçš„é»˜è®¤å€¼
  3. å¯¼å…¥æ¸…ç† - ç§»é™¤äº†WebDAVæ¨¡å—ä¸­ä¸å¿…è¦çš„å¯¼å…¥

  ğŸ“ æ¶‰åŠçš„æ–‡ä»¶

  - app/models.py - æ·»åŠ WebDAVå­—æ®µ
  - app/utils/webdav_backup.py - æ–°å»ºWebDAVå·¥å…·æ¨¡å—
  - app/utils/__init__.py - æ–°å»ºutilsåŒ…åˆå§‹åŒ–
  - app/admin/forms.py - æ·»åŠ WebDAVè¡¨å•å­—æ®µ
  - app/admin/routes.py - é›†æˆWebDAVåŠŸèƒ½åˆ°å¤‡ä»½å’Œè®¾ç½®
  - app/templates/admin/site_settings.html - æ·»åŠ WebDAVé…ç½®ç•Œé¢
  - app/templates/admin/backup_list.html - æ·»åŠ WebDAVæ“ä½œæŒ‰é’®
  - app/__init__.py - ä¿®å¤é»˜è®¤è®¾ç½®å…¼å®¹æ€§
  - migrations/versions/add_webdav_backup_fields.py - æ•°æ®åº“è¿ç§»
  - CLAUDE.md - æ›´æ–°æ–‡æ¡£

  ğŸ”„ å¯ç”¨æ­¥éª¤

  1. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼šflask db upgrade
  2. åœ¨ç®¡ç†åå°é…ç½®WebDAVè®¾ç½®
  3. æµ‹è¯•è¿æ¥ç¡®ä¿é…ç½®æ­£ç¡®
  4. å¯ç”¨è‡ªåŠ¨å¤‡ä»½æˆ–æ‰‹åŠ¨ä½¿ç”¨å¤‡ä»½åŠŸèƒ½
## ğŸš€ éƒ¨ç½²æŒ‡å—

### Docker Compose éƒ¨ç½² (æ¨è)

#### è‡ªæ„å»ºé•œåƒè¿è¡Œ

1.  **ç¯å¢ƒå‡†å¤‡**:

    - å®‰è£… [Docker](https://docs.docker.com/get-docker/)
    - å®‰è£… [Docker Compose](https://docs.docker.com/compose/install/)

2.  **è·å–ä»£ç **:

    ```bash
    git clone https://github.com/yourusername/booknav.git
    cd booknav
    sed -i 's/\r$//' docker/cleanup_backups.sh
    sed -i 's/\r$//' docker/entrypoint.sh
    ```

3.  **æ„å»ºä¸å¯åŠ¨**:

    ```bash
    docker-compose build
    docker-compose up -d
    ```

4.  **è®¿é—®**:

    - åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://<æ‚¨çš„æœåŠ¡å™¨IP>:8988`
    - é»˜è®¤ç”¨æˆ·åï¼š`admin`ï¼Œå¯†ç ï¼š`admin123`

#### æ‹‰å–é•œåƒè¿è¡Œ

```yaml
version: "3"

services:
  nav:
    image: yilan666/booknav-nav:1.9.6
    container_name: nav
    restart: always
    ports:
      - "8988:80" # Nginxç«¯å£
    volumes:
      - ./data:/data # æ•°æ®ç›®å½•
      - ./data/backups:/app/app/backups # å¤‡ä»½ç›®å½•
      - ./data/uploads:/app/app/static/uploads # ä¸Šä¼ æ–‡ä»¶ç›®å½•ï¼ˆé™æ€æ–‡ä»¶ä¸­çš„ä¸Šä¼ ç›®å½•ï¼‰
      - ./config/nginx:/etc/nginx/http.d # Nginxé…ç½®
    env_file:
      - .env
    environment:
      - DATABASE_URL=sqlite:////data/app.db
```

docker-compose.yml æ–‡ä»¶åŒçº§ç›®å½•ä¸‹åˆ›å»º.env æ–‡ä»¶

```env
# åŸºæœ¬é…ç½®
SECRET_KEY=
FLASK_ENV=production
DATABASE_URL=sqlite:////data/app.db

# ç®¡ç†å‘˜è®¾ç½®
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# å…¶ä»–é…ç½®
INVITATION_CODE_LENGTH=8
```

```txt
SECRET_KEY=
ADMIN_USERNAME=
ADMIN_EMAIL=
ADMIN_PASSWORD=
```

è¿™äº›å‚æ•°è‡ªå®šä¹‰å¡«å†™ï¼Œæ‰§è¡Œ

```sh
docker-compose up -d
```

ç”¨æˆ·åå’Œå¯†ç ä¸º.env æ–‡ä»¶ä¸­è‡ªå®šä¹‰å¡«å†™çš„

### æ•°æ®åº“åˆå§‹åŒ–

é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œå®¹å™¨å†…çš„ `entrypoint.sh` è„šæœ¬ä¼šè‡ªåŠ¨:

- æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ‰§è¡Œæ•°æ®åº“è¿ç§» (`flask db upgrade`) åˆ›å»ºè¡¨ç»“æ„
- åˆ›å»ºé»˜è®¤çš„ç®¡ç†å‘˜è´¦æˆ·

### æœ¬åœ°å¼€å‘éƒ¨ç½²

1. **ç¯å¢ƒå‡†å¤‡**:

   ```bash
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # Linux/Mac
   source venv/bin/activate
   pip install -r requirements.txt
   ```

2. **é…ç½®**:

   - åˆ›å»º `.env` æ–‡ä»¶å¹¶è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡

3. **æ•°æ®åº“åˆå§‹åŒ–**:

   ```bash
   flask db upgrade
   ```

4. **è¿è¡Œå¼€å‘æœåŠ¡å™¨**:
   ```bash
   python run.py
   ```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ç™»å½•

1. ä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦å·ç™»å½• (å‚è€ƒ `config.py` æˆ–æ‚¨é…ç½®çš„ç¯å¢ƒå˜é‡)
2. å»ºè®®ç«‹å³ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 

### åˆ›å»ºåˆ†ç±»ä¸ç½‘ç«™

1. è¿›å…¥ç®¡ç†åå° (`/admin`)
2. åˆ›å»ºåˆ†ç±»ï¼Œè®¾ç½®åç§°ã€å›¾æ ‡å’Œé¢œè‰²
3. ä¸ºåˆ†ç±»æ·»åŠ ç½‘ç«™ï¼Œå¡«å†™ç½‘ç«™æ ‡é¢˜ã€URLã€æè¿°ç­‰ä¿¡æ¯

### ç”Ÿæˆé‚€è¯·ç 

1. åœ¨ç®¡ç†ç•Œé¢ä¸­æ‰¾åˆ°"é‚€è¯·ç ç®¡ç†"
2. ç‚¹å‡»"ç”Ÿæˆæ–°é‚€è¯·ç "
3. å°†ç”Ÿæˆçš„é‚€è¯·ç åˆ†äº«ç»™éœ€è¦æ³¨å†Œçš„ç”¨æˆ·

### å‰ç«¯äº¤äº’

- **å³é”®èœå•**: åœ¨ç½‘ç«™å¡ç‰‡æˆ–åˆ†ç±»ä¸Šå³é”®ç‚¹å‡»ï¼Œä½¿ç”¨ä¸Šä¸‹æ–‡èœå•
- **æ‹–æ‹½æ’åº**: é•¿æŒ‰å¹¶æ‹–åŠ¨ç½‘ç«™å¡ç‰‡æˆ–åˆ†ç±»è¿›è¡Œæ’åº
- **æœç´¢åŠŸèƒ½**: ä½¿ç”¨é¡¶éƒ¨æœç´¢æ¡†æŸ¥æ‰¾ç½‘ç«™

## ğŸ”§ ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ app/                  # Flask åº”ç”¨æ ¸å¿ƒç›®å½•
â”‚   â”œâ”€â”€ admin/            # åå°ç®¡ç†è“å›¾
â”‚   â”œâ”€â”€ api/              # API è“å›¾
â”‚   â”œâ”€â”€ auth/             # è®¤è¯è“å›¾ (ç™»å½•ã€æ³¨å†Œ)
â”‚   â”œâ”€â”€ main/             # ä¸»è¦åº”ç”¨è“å›¾ (é¦–é¡µã€åˆ†ç±»é¡µ)
â”‚   â”œâ”€â”€ static/           # é™æ€æ–‡ä»¶ (CSS, JS, images, vendor libs)
â”‚   â”œâ”€â”€ templates/        # Jinja2 æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py       # åº”ç”¨å·¥å‚å‡½æ•° create_app()
â”‚   â”œâ”€â”€ models.py         # SQLAlchemy æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docker/               # Docker ç›¸å…³é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ entrypoint.sh     # Docker å®¹å™¨å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ nginx.conf        # Nginx é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ supervisord.conf  # Supervisor é…ç½®æ–‡ä»¶
â”œâ”€â”€ migrations/           # Flask-Migrate æ•°æ®åº“è¿ç§»è„šæœ¬
â”œâ”€â”€ config/               # Nginx é…ç½®ç›®å½• (æœ¬åœ°æ˜ å°„)
â”œâ”€â”€ data/                 # æŒä¹…åŒ–æ•°æ®ç›®å½• (æœ¬åœ°æ˜ å°„)
â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡æ–‡ä»¶
â”œâ”€â”€ config.py             # Flask é…ç½®ç±»
â”œâ”€â”€ Dockerfile            # Docker é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml    # Docker Compose éƒ¨ç½²æ–‡ä»¶
â”œâ”€â”€ requirements.txt      # Python ä¾èµ–åˆ—è¡¨
â””â”€â”€ run.py                # Flask åº”ç”¨å¯åŠ¨å…¥å£ (å¼€å‘ç”¨)
```

 âœ… å·²å®Œæˆçš„åŠŸèƒ½

  1. æ•°æ®åº“å±‚é¢

  - åœ¨SiteSettingsæ¨¡å‹ä¸­æ·»åŠ äº†7ä¸ªWebDAVç›¸å…³å­—æ®µï¼Œæ‰€æœ‰å­—æ®µéƒ½æœ‰åˆé€‚çš„é»˜è®¤å€¼
  - åˆ›å»ºäº†æ­£ç¡®çš„æ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼Œä½¿ç”¨æ‰¹é‡æ“ä½œç¡®ä¿SQLiteå…¼å®¹æ€§
  - ä¿®å¤äº†é»˜è®¤è®¾ç½®å¯¹è±¡ï¼Œç¡®ä¿å¼‚å¸¸æƒ…å†µä¸‹æ¨¡æ¿ä¸ä¼šå‡ºé”™

  2. åç«¯åŠŸèƒ½

  - å®Œæ•´çš„WebDAVå·¥å…·æ¨¡å—(app/utils/webdav_backup.py)ï¼Œæ”¯æŒHTTP/HTTPS
  - é›†æˆåˆ°ç°æœ‰å¤‡ä»½ç³»ç»Ÿï¼Œæ”¯æŒè‡ªåŠ¨WebDAVå¤‡ä»½
  - æ–°å¢3ä¸ªAPIç«¯ç‚¹ï¼šæµ‹è¯•è¿æ¥ã€å•æ–‡ä»¶ä¸Šä¼ ã€æ‰¹é‡ä¸Šä¼ 
  - ä½¿ç”¨Base64ç¼–ç å®‰å…¨å­˜å‚¨å¯†ç ï¼ˆè™½ç„¶ä¸æ˜¯å¼ºåŠ å¯†ï¼Œä½†é¿å…äº†æ˜æ–‡å­˜å‚¨ï¼‰

  3. å‰ç«¯ç•Œé¢

  - åœ¨ç«™ç‚¹è®¾ç½®é¡µé¢æ–°å¢**"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µ**ï¼ŒåŒ…å«å®Œæ•´çš„é…ç½®ç•Œé¢
  - åœ¨å¤‡ä»½ç®¡ç†é¡µé¢æ·»åŠ WebDAVç›¸å…³æŒ‰é’®ï¼š
    - å•ä¸ªæ–‡ä»¶çš„"WebDAV"ä¸Šä¼ æŒ‰é’®
    - æ‰¹é‡"WebDAVä¸Šä¼ "æŒ‰é’®
  - å®Œæ•´çš„JavaScriptäº¤äº’ï¼šæµ‹è¯•è¿æ¥ã€ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºã€é”™è¯¯å¤„ç†

  4. ç”¨æˆ·ä½“éªŒ

  - ç›´è§‚çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½æœ‰å¯¹åº”çš„æŒ‰é’®å’Œæç¤º
  - å¯ç”¨/ç¦ç”¨åˆ‡æ¢ï¼ŒåŠ¨æ€æ˜¾ç¤ºé…ç½®é€‰é¡¹
  - å®æ—¶è¿æ¥æµ‹è¯•åŠŸèƒ½
  - è¯¦ç»†çš„æˆåŠŸ/å¤±è´¥æç¤ºä¿¡æ¯

  ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

  1. å®Œå…¨å‘åå…¼å®¹ - æ‰€æœ‰æ–°å­—æ®µéƒ½æœ‰é»˜è®¤å€¼ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½
  2. åè®®æ”¯æŒå®Œæ•´ - æ”¯æŒHTTPå’ŒHTTPS WebDAVæœåŠ¡å™¨
  3. é”™è¯¯å¤„ç†å¥å…¨ - å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
  4. å®‰å…¨è€ƒè™‘ - å¯†ç ç¼–ç å­˜å‚¨ï¼Œæ–‡ä»¶åå®‰å…¨æ£€æŸ¥ï¼ŒCSRFä¿æŠ¤
  5. æ€§èƒ½ä¼˜åŒ– - æ‰¹é‡æ“ä½œæ”¯æŒï¼Œåå°å¼‚æ­¥å¤„ç†

  ğŸ¯ ç”¨æˆ·äº¤äº’æµç¨‹

  1. é…ç½®WebDAV:
    - è¿›å…¥ç®¡ç†åå° > ç«™ç‚¹è®¾ç½® > WebDAVå¤‡ä»½æ ‡ç­¾é¡µ
    - å¡«å†™æœåŠ¡å™¨ä¿¡æ¯å¹¶æµ‹è¯•è¿æ¥
    - å¯ç”¨è‡ªåŠ¨å¤‡ä»½é€‰é¡¹
  2. æ‰‹åŠ¨å¤‡ä»½:
    - åœ¨ç®¡ç†åå° > å¤‡ä»½ç®¡ç†é¡µé¢
    - ç‚¹å‡»å•ä¸ªæ–‡ä»¶çš„"WebDAV"æŒ‰é’®è¿›è¡Œä¸Šä¼ 
    - æˆ–ä½¿ç”¨"æ‰¹é‡WebDAVä¸Šä¼ "ä¸€æ¬¡æ€§ä¸Šä¼ æ‰€æœ‰å¤‡ä»½
  3. è‡ªåŠ¨å¤‡ä»½:
    - å¯ç”¨è‡ªåŠ¨å¤‡ä»½åï¼Œæ¯æ¬¡åˆ›å»ºæœ¬åœ°å¤‡ä»½æ—¶ä¼šè‡ªåŠ¨ä¸Šä¼ åˆ°WebDAV
    - æ”¯æŒä¿ç•™/åˆ é™¤æœ¬åœ°å¤‡ä»½é€‰é¡¹

  ğŸš¨ é‡è¦ä¿®å¤

  1. è¿ç§»æ–‡ä»¶ä¿®æ­£ - ç§»é™¤äº†å¯èƒ½å¯¼è‡´SQLiteé—®é¢˜çš„é»˜è®¤å€¼è®¾ç½®
  2. å¼‚å¸¸å¤„ç†å¢å¼º - åœ¨å…¨å±€settingsæ³¨å…¥ä¸­æ·»åŠ äº†WebDAVå­—æ®µçš„é»˜è®¤å€¼
  3. å¯¼å…¥æ¸…ç† - ç§»é™¤äº†WebDAVæ¨¡å—ä¸­ä¸å¿…è¦çš„å¯¼å…¥

  ğŸ“ æ¶‰åŠçš„æ–‡ä»¶

  - app/models.py - æ·»åŠ WebDAVå­—æ®µ
  - app/utils/webdav_backup.py - æ–°å»ºWebDAVå·¥å…·æ¨¡å—
  - app/utils/__init__.py - æ–°å»ºutilsåŒ…åˆå§‹åŒ–
  - app/admin/forms.py - æ·»åŠ WebDAVè¡¨å•å­—æ®µ
  - app/admin/routes.py - é›†æˆWebDAVåŠŸèƒ½åˆ°å¤‡ä»½å’Œè®¾ç½®
  - app/templates/admin/site_settings.html - æ·»åŠ WebDAVé…ç½®ç•Œé¢
  - app/templates/admin/backup_list.html - æ·»åŠ WebDAVæ“ä½œæŒ‰é’®
  - app/__init__.py - ä¿®å¤é»˜è®¤è®¾ç½®å…¼å®¹æ€§
  - migrations/versions/add_webdav_backup_fields.py - æ•°æ®åº“è¿ç§»
  - CLAUDE.md - æ›´æ–°æ–‡æ¡£

  ğŸ”„ å¯ç”¨æ­¥éª¤

  1. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼šflask db upgrade
  2. åœ¨ç®¡ç†åå°é…ç½®WebDAVè®¾ç½®
  3. æµ‹è¯•è¿æ¥ç¡®ä¿é…ç½®æ­£ç¡®
  4. å¯ç”¨è‡ªåŠ¨å¤‡ä»½æˆ–æ‰‹åŠ¨ä½¿ç”¨å¤‡ä»½åŠŸèƒ½

## ğŸ‘¨â€ğŸ’» è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ï¼
